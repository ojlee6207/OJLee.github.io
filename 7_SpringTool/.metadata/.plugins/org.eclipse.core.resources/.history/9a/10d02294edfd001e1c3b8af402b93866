<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Spring Project</title>
</head>
<body>
	<jsp:include page="common/header.jsp" />
	
    <div class="outer">
        <br><br>
        <div class="innerOuter" style="padding: 5% 10%">
            <h2>ì¸ê¸° ê²Œì‹œê¸€(TOP 5)</h2>
            <br>
            <table id="boardList" class="table table-hover" align="center">
                <thead>
                    <th>ê¸€ë²ˆí˜¸</th>
                    <th>ì œëª©</th>
                    <th>ì‘ì„±ì</th>
                    <th>ì¡°íšŒìˆ˜</th>
                    <th>ì‘ì„±ì¼</th>
                    <th>ì²¨ë¶€íŒŒì¼</th>
                </thead>

                <tbody>
                </tbody>
            </table>
            <br>
			<script>
				$(function(){
					$("#boardList>tbody>tr").click(function(){
						location.href = 'detail.bo?bno='+$(this).children(".bno").text();
					})
					showBoardTopList();
				})
				
				const showBoardTopList = () => {
					
					$.ajax({
						url: 'topList.bo',
						success: function(blist) {
							console.log(blist);
							let value = "";
							for(let i in blist) {
								value += "<tr>"
										+"<td>"+blist[i].boardNo+"</td>"
										+"<td>"+blist[i].boardTitle+"</td>"
										+"<td>"+blist[i].boardWriter+"</td>"
										+"<td>"+blist[i].count+"</td>"
										+"<td>"+blist[i].createDate+"</td>";
								if(blist[i].originName !== null) {
									value += "<td>"+"ğŸ’¾"+"</td></tr>"; 
								} else {
									value += "<td></td></tr>"
								}
							}
            				$("#boardList > tbody").html(value);
						},
						error: function() {
							console.log("ajax í†µì‹  ì‹¤íŒ¨")
						}
					})
					
				}
			</script>
        </div>
        <br><br>
    </div>
	
	<jsp:include page="common/footer.jsp" />
</body>
</html>